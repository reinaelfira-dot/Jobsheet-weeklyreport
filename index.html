<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PT Transkon Jaya â€“ Fleet Management Dashboard</title>

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Font Awesome (untuk icon chart) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- Custom CSS -->
<link rel="stylesheet" href="style.css">
</head>


<body class="bg-[#8A0000] font-inter overflow-x-hidden">

<!-- HEADER -->
<section class="w-full bg-[#A60000] text-white py-10 shadow-xl">
    <h1 class="text-center text-4xl font-extrabold">
        PT Transkon Jaya â€“ Fleet Management Dashboard
    </h1>
    <p class="text-center text-lg mt-2 opacity-90">
        Real-time Asset & Jobsheet Monitoring System
    </p>
</section>

<!-- GLOBAL CONNECTION STATUS -->
<div id="connectionStatus" class="connection-badge hidden">
    <span class="dot"></span> Connecting...
</div>

<!-- GLOBAL LOADED SUMMARY -->
<div id="loadedSummary" class="loaded-badge hidden">
    <span class="check">âœ”</span>
    <span id="loadedMessage">Data loaded.</span>
</div>


<!-- WRAPPER -->
<div class="wrapper">

    <!-- ASSET OVERVIEW TITLE -->
    <div class="canva-card">
        <div class="flex items-center gap-2 text-xl font-bold">
            ğŸš— ASSET OVERVIEW
        </div>
        <p class="text-gray-600">Fleet asset management and distribution statistics</p>
    </div>

    <!-- FILTER ASSET -->
    <div class="canva-card mt-6">

        <h3 class="text-xl font-bold flex items-center gap-2 mb-3">ğŸ” Filter Asset Data</h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <div>
                <label class="canva-label">HUB LOCATION</label>
                <select id="hubFilter" class="canva-input"></select>
            </div>

            <div>
                <label class="canva-label">SITE LOCATION</label>
                <select id="siteFilter" class="canva-input"></select>
            </div>

        </div>

        <div class="flex gap-3 mt-6">
            <button id="applyAssetFilter" class="canva-btn-primary">âœ“ Apply Filter</button>
            <button id="resetAssetFilter" class="canva-btn-outline">â­® Reset</button>

            <div class="ml-auto text-sm text-gray-500 flex items-center gap-1">
                ğŸ“… Last Update:
                <span id="lastAssetUpdate">-</span>
            </div>
        </div>

    </div>

    <!-- STATUS UNIT + CUSTOMER -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">

        <div class="canva-card scroll-card">
            <div class="card-title">ğŸ“Š Status Unit</div>
            <span class="unit-badge" id="statusUnitTotal">0 Units</span>
            <div id="statusUnitList" class="scroll-body"></div>
        </div>

        <div class="canva-card scroll-card">
            <div class="card-title">ğŸ‘¥ Customer</div>
            <span class="unit-badge" id="customerTotal">0 Units</span>
            <div id="customerList" class="scroll-body"></div>
        </div>

    </div>

    <!-- LOCATION + YEAR -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">

        <div class="canva-card scroll-card">
            <div class="card-title">ğŸ“ Location</div>
            <span class="unit-badge" id="locationTotal">0 Units</span>
            <div id="locationList" class="scroll-body"></div>
        </div>

        <div class="canva-card scroll-card">
            <div class="card-title">ğŸ“… Year</div>
            <span class="unit-badge" id="yearTotal">0 Units</span>
            <div id="yearList" class="scroll-body"></div>
        </div>

    </div>

    <!-- VEHICLE TYPE -->
    <div class="grid grid-cols-1 mt-6">
        <div class="canva-card scroll-card">
            <div class="card-title">ğŸš— Vehicle Type</div>
            <span class="unit-badge" id="vehicleTotal">0 Units</span>
            <div id="vehicleList" class="scroll-body"></div>
        </div>
    </div>

</div>


<!-- JOBSHEET OVERVIEW -->
<div class="wrapper mt-10">

    <div class="canva-card">
        <div class="flex items-center gap-2 text-xl font-bold">
            ğŸ“‘ JOBSHEET OVERVIEW
        </div>
        <p class="text-gray-600">Maintenance and repair job tracking system</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6">
        <div class="summary-card">
            <div class="summary-title">P1 PRIORITY</div>
            <div id="p1CountJS" class="summary-value">0</div>
            <div class="summary-sub">High Priority - Click for details</div>
        </div>

        <div class="summary-card">
            <div class="summary-title">P2 PRIORITY</div>
            <div id="p2CountJS" class="summary-value">0</div>
            <div class="summary-sub">Medium Priority - Click for details</div>
        </div>

        <div class="summary-card">
            <div class="summary-title">CASH ON SITE</div>
            <div id="cashCountJS" class="summary-value">0</div>
            <div class="summary-sub">On-site Payment</div>
        </div>

        <div class="summary-card">
            <div class="summary-title">REPAIR</div>
            <div id="repairCountJS" class="summary-value">0</div>
            <div class="summary-sub">Total Repairs</div>
        </div>
    </div>

    <div class="canva-card mt-6">
        <h2 class="text-xl font-bold">ğŸ’° Total Cost Estimation</h2>
        <p id="totalCostJS" class="text-3xl font-extrabold text-[#A60000] mt-2">Rp 0</p>
    </div>

</div>


<!-- ===========================
     NEW: ASSET CHART SECTION
=========================== -->
<section class="chart-section wrapper mt-10">

    <div class="chart-card">
        <h2 class="chart-title">
            <i class="fa-solid fa-chart-column"></i> ASSET CHARTS
        </h2>
        <p class="chart-subtitle">Visual analysis of asset distribution</p>
    </div>

    <div class="chart-card">
        <label class="chart-label">Select Chart Type</label>
        <select id="assetChartSelector" class="chart-dropdown">
            <option value="year">Year</option>
            <option value="status">Status Unit</option>
            <option value="customer">Customer</option>
            <option value="location">Location</option>
            <option value="vehicle">Vehicle Type</option>
        </select>
    </div>

    <div class="chart-card">
        <h3 id="chartTitle" class="chart-subtitle">Year Distribution</h3>
        <canvas id="assetChartLarge" height="130"></canvas>
    </div>

</section>


<!-- MODAL DETAIL -->
<div id="detailModal" class="modal">
  <div class="modal-content">
      <button id="closeModal" class="modal-close">âœ•</button>
      <h3 id="modalTitle"></h3>
      <div id="modalBody" class="modal-body"></div>
  </div>
</div>


<!-- JS SCRIPT (HARUS SELALU TERAKHIR) -->
<script src="script.js"></script>

</body>
</html>
